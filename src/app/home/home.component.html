<div *ngIf="authService.isAuthenticated();else unauthenticated" class="row">
  <div class="col-sm-7">
    <div *ngIf="duelsService.pendingDuels().length > 0">
      <h3>Pending Duels</h3><p class="font-italic">Give the code to a friend</p>
      <ul class="pending-duels">
        <li *ngFor="let duel of duelsService.pendingDuels()">
          <pre>{{ duel._id }}</pre>
        </li>
      </ul>
    </div>
    <h3>Current Duels</h3>
    <ul>
      <li *ngFor="let duelWeek of duelsService.duelWeeks">
        <a [routerLink]="[ '/duel-weeks', duelWeek._id ]">
          Week {{ duelWeek.weekNum }} vs {{ opponentName(duelWeek) }}
        </a>
      </li>
    </ul>
    <span *ngIf="duelsService.activeDuels().length < 1">
      Create a duel and send the code to a buddy to get started or enter a code
      given to you in the 'Duel Code' box and click 'Accept'.
    </span>
  </div>
  <div class="col-sm-5">
    <form class="form-inline pull-right accept-duel">
      <input type="text" class="form-control accept-duel" name="acceptCode"
             [(ngModel)]="acceptCode" placeholder="Duel Code" />
      <button (click)="acceptDuel()" class="btn btn-primary"
              [disabled]="acceptCode.length < 24">
        Accept Duel
      </button>
    </form>
  </div>
</div>
<ng-template #unauthenticated>
  <div class="row">
    <div class="col"><h1>Welcome to Buddy Duel!</h1></div>
  </div>
  <div *ngIf="!authService.isAuthenticated()" class="row">
    <div class="col"><h2>Sign up today to start dueling your friends!</h2></div>
  </div>
  <button (click)="authService.login()" class="btn btn-info">
    Sign Up / Login
  </button>
</ng-template>
